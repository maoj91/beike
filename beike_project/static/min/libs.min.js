!function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(t){function i(){var i;return n.settings.submitHandler?(n.submitButton&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&i.remove(),!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){var t,n;return e(this[0]).is("form")?t=this.validate().form():(t=!0,n=e(this[0].form).validate(),this.each(function(){t=n.element(this)&&t})),t},removeAttrs:function(t){var n={},i=this;return e.each(t.split(/\s/),function(e,t){n[t]=i.attr(t),i.removeAttr(t)}),n},rules:function(t,n){var i,r,s,a,o,l,u=this[0];if(t)switch(i=e.data(u.form,"validator").settings,r=i.rules,s=e.validator.staticRules(u),t){case"add":e.extend(s,e.validator.normalizeRule(n)),delete s.messages,r[u.name]=s,n.messages&&(i.messages[u.name]=e.extend(i.messages[u.name],n.messages));break;case"remove":return n?(l={},e.each(n.split(/\s/),function(t,n){l[n]=s[n],delete s[n],"required"===n&&e(u).removeAttr("aria-required")}),l):(delete r[u.name],s)}return a=e.validator.normalizeRules(e.extend({},e.validator.classRules(u),e.validator.attributeRules(u),e.validator.dataRules(u),e.validator.staticRules(u)),u),a.required&&(o=a.required,delete a.required,a=e.extend({required:o},a),e(u).attr("aria-required","true")),a.remote&&(o=a.remote,delete a.remote,a=e.extend(a,{remote:o})),a}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this[0].form,"validator"),i="on"+t.type.replace(/^validate/,""),r=n.settings;r[i]&&!this.is(r.ignore)&&r[i].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};e.each(this.settings.groups,function(t,n){"string"==typeof n&&(n=n.split(/\s/)),e.each(n,function(e,n){i[n]=t})}),n=this.settings.rules,e.each(n,function(t,i){n[t]=e.validator.normalizeRule(i)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",t).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var n=this.clean(t),i=this.validationTargetFor(n),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[n.name]:(this.prepareElement(i),this.currentElements=e(i),r=this.check(i)!==!1,r?delete this.invalid[i.name]:this.invalid[i.name]=!0),e(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)n++;return n},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n,i=e(t),r=i.attr("type");return"radio"===r||"checkbox"===r?e("input[name='"+i.attr("name")+"']:checked").val():(n=i.val(),"string"==typeof n?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i,r,s=e(t).rules(),a=e.map(s,function(e,t){return t}).length,o=!1,l=this.elementValue(t);for(i in s){r={method:i,parameters:s[i]};try{if(n=e.validator.methods[i].call(this,l,t,r.parameters),"dependency-mismatch"===n&&1===a){o=!0;continue}if(o=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,r),!1}catch(u){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",u),u}}if(!o)return this.objectLength(s)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg"+n[0].toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var i=this.defaultMessage(t,n.method),r=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,t):r.test(i)&&(i=e.validator.format(i.replace(r,"{$1}"),n.parameters)),this.errorList.push({message:i,element:t,method:n.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var i=this.errorsFor(t);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(n)):(i=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t))),!n&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,t)),this.toShow=this.toShow.add(i)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n,i,r={},s=e(t),a=t.getAttribute("type");for(n in e.validator.methods)"required"===n?(i=t.getAttribute(n),""===i&&(i=!0),i=!!i):i=s.attr(n),/min|max/.test(n)&&(null===a||/number|range|text/.test(a))&&(i=Number(i)),i||0===i?r[n]=i:a===n&&"range"!==a&&(r[n]=!0);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(t){var n,i,r={},s=e(t);for(n in e.validator.methods)i=s.data("rule"+n[0].toUpperCase()+n.substring(1).toLowerCase()),void 0!==i&&(r[n]=i);return r},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(i,r){if(r===!1)return void delete t[i];if(r.param||r.depends){var s=!0;switch(typeof r.depends){case"string":s=!!e(r.depends,n.form).length;break;case"function":s=r.depends.call(n,n)}s?t[i]=void 0!==r.param?r.param:!0:delete t[i]}}),e.each(t,function(i,r){t[i]=e.isFunction(r)?r(n):r}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=e(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n,i,r=0,s=0,a=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(n=e.length-1;n>=0;n--)i=e.charAt(n),s=parseInt(i,10),a&&(s*=2)>9&&(s-=9),r+=s,a=!a;return r%10===0},minlength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||r>=i},maxlength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r},rangelength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,i){var r=e(i);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===r.val()},remote:function(t,n,i){if(this.optional(n))return"dependency-mismatch";var r,s,a=this.previousValue(n);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),a.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=a.message,i="string"==typeof i&&{url:i}||i,a.old===t?a.valid:(a.old=t,r=this,this.startRequest(n),s={},s[n.name]=t,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:s,context:r.currentForm,success:function(i){var s,o,l,u=i===!0||"true"===i;r.settings.messages[n.name].remote=a.originalMessage,u?(l=r.formSubmitted,r.prepareElement(n),r.formSubmitted=l,r.successList.push(n),delete r.invalid[n.name],r.showErrors()):(s={},o=i||r.defaultMessage(n,"remote"),s[n.name]=a.message=e.isFunction(o)?o(t):o,r.invalid[n.name]=!0,r.showErrors(s)),a.valid=u,r.stopRequest(n,u)}},i)),"pending")}}}),e.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."}}(jQuery),function(e){var t,n={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,i){var r=e.port;"abort"===e.mode&&(n[r]&&n[r].abort(),n[r]=i)}):(t=e.ajax,e.ajax=function(i){var r=("mode"in i?i:e.ajaxSettings).mode,s=("port"in i?i:e.ajaxSettings).port;return"abort"===r?(n[s]&&n[s].abort(),n[s]=t.apply(this,arguments),n[s]):t.apply(this,arguments)})}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,n,i){return this.bind(n,function(n){var r=e(n.target);return r.is(t)?i.apply(r,arguments):void 0})}})}(jQuery);var EXIF={};!function(){function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function t(e){return!!e.exifdata}function n(e,t){BinaryAjax(e.src,function(n){var r=i(n.binaryResponse);e.exifdata=r||{},t&&t()})}function i(e){if(255!=e.getByteAt(0)||216!=e.getByteAt(1))return!1;for(var t=2,n=e.getLength();n>t;){if(255!=e.getByteAt(t))return l&&console.log("Not a valid marker at offset "+t+", found: "+e.getByteAt(t)),!1;var i=e.getByteAt(t+1);if(22400==i)return l&&console.log("Found 0xFFE1 marker"),a(e,t+4,e.getShortAt(t+2,!0)-2);if(225==i)return l&&console.log("Found 0xFFE1 marker"),a(e,t+4,e.getShortAt(t+2,!0)-2);t+=2+e.getShortAt(t+2,!0)}}function r(e,t,n,i,r){for(var a=e.getShortAt(n,r),o={},u=0;a>u;u++){var d=n+12*u+2,h=i[e.getShortAt(d,r)];!h&&l&&console.log("Unknown tag: "+e.getShortAt(d,r)),o[h]=s(e,d,t,n,r)}return o}function s(e,t,n,i,r){var s=e.getShortAt(t+2,r),a=e.getLongAt(t+4,r),o=e.getLongAt(t+8,r)+n;switch(s){case 1:case 7:if(1==a)return e.getByteAt(t+8,r);for(var l=a>4?o:t+8,u=[],d=0;a>d;d++)u[d]=e.getByteAt(l+d);return u;case 2:var h=a>4?o:t+8;return e.getStringAt(h,a-1);case 3:if(1==a)return e.getShortAt(t+8,r);for(var l=a>2?o:t+8,u=[],d=0;a>d;d++)u[d]=e.getShortAt(l+2*d,r);return u;case 4:if(1==a)return e.getLongAt(t+8,r);for(var u=[],d=0;a>d;d++)u[d]=e.getLongAt(o+4*d,r);return u;case 5:if(1==a)return e.getLongAt(o,r)/e.getLongAt(o+4,r);for(var u=[],d=0;a>d;d++)u[d]=e.getLongAt(o+8*d,r)/e.getLongAt(o+4+8*d,r);return u;case 9:if(1==a)return e.getSLongAt(t+8,r);for(var u=[],d=0;a>d;d++)u[d]=e.getSLongAt(o+4*d,r);return u;case 10:if(1==a)return e.getSLongAt(o,r)/e.getSLongAt(o+4,r);for(var u=[],d=0;a>d;d++)u[d]=e.getSLongAt(o+8*d,r)/e.getSLongAt(o+4+8*d,r);return u}}function a(e,t){if("Exif"!=e.getStringAt(t,4))return l&&console.log("Not valid EXIF data! "+e.getStringAt(t,4)),!1;var n,i=t+6;if(18761==e.getShortAt(i))n=!1;else{if(19789!=e.getShortAt(i))return l&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getShortAt(i+2,n))return l&&console.log("Not valid TIFF data! (no 0x002A)"),!1;if(8!=e.getLongAt(i+4,n))return l&&console.log("Not valid TIFF data! (First offset not 8)",e.getShortAt(i+4,n)),!1;var s=r(e,i,i+8,EXIF.TiffTags,n);if(s.ExifIFDPointer){var a=r(e,i,i+s.ExifIFDPointer,EXIF.Tags,n);for(var o in a){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":a[o]=EXIF.StringValues[o][a[o]];break;case"ExifVersion":case"FlashpixVersion":a[o]=String.fromCharCode(a[o][0],a[o][1],a[o][2],a[o][3]);break;case"ComponentsConfiguration":a[o]=EXIF.StringValues.Components[a[o][0]]+EXIF.StringValues.Components[a[o][1]]+EXIF.StringValues.Components[a[o][2]]+EXIF.StringValues.Components[a[o][3]]}s[o]=a[o]}}if(s.GPSInfoIFDPointer){var u=r(e,i,i+s.GPSInfoIFDPointer,EXIF.GPSTags,n);for(var o in u){switch(o){case"GPSVersionID":u[o]=u[o][0]+"."+u[o][1]+"."+u[o][2]+"."+u[o][3]}s[o]=u[o]}}return s}function o(){for(var t=document.getElementsByTagName("img"),n=0;n<t.length;n++)"true"==t[n].getAttribute("exif")&&(t[n].complete?EXIF.getData(t[n]):e(t[n],"load",function(){EXIF.getData(this)}))}var l=!1;EXIF.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},EXIF.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},EXIF.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},EXIF.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},EXIF.getData=function(e,i){return e.complete?(t(e)?i&&i():n(e,i),!0):!1},EXIF.getTag=function(e,n){return t(e)?e.exifdata[n]:void 0},EXIF.getAllTags=function(e){if(!t(e))return{};var n=e.exifdata,i={};for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i},EXIF.pretty=function(e){if(!t(e))return"";var n=e.exifdata,i="";for(var r in n)n.hasOwnProperty(r)&&(i+="object"==typeof n[r]?r+" : ["+n[r].length+" values]\r\n":r+" : "+n[r]+"\r\n");return i},EXIF.readFromBinaryFile=function(e){return i(e)},e(window,"load",o)}();var BinaryFile=function(e,t,n){var i=e,r=t||0,s=0;this.getRawData=function(){return i},"string"==typeof e?(s=n||i.length,this.getByteAt=function(e){return 255&i.charCodeAt(e+r)},this.getBytesAt=function(e,t){for(var n=[],s=0;t>s;s++)n[s]=255&i.charCodeAt(e+s+r);return n}):"unknown"==typeof e&&(s=n||IEBinary_getLength(i),this.getByteAt=function(e){return IEBinary_getByteAt(i,e+r)},this.getBytesAt=function(e,t){return new VBArray(IEBinary_getBytesAt(i,e+r,t)).toArray()}),this.getLength=function(){return s},this.getSByteAt=function(e){var t=this.getByteAt(e);return t>127?t-256:t},this.getShortAt=function(e,t){var n=t?(this.getByteAt(e)<<8)+this.getByteAt(e+1):(this.getByteAt(e+1)<<8)+this.getByteAt(e);return 0>n&&(n+=65536),n},this.getSShortAt=function(e,t){var n=this.getShortAt(e,t);return n>32767?n-65536:n},this.getLongAt=function(e,t){var n=this.getByteAt(e),i=this.getByteAt(e+1),r=this.getByteAt(e+2),s=this.getByteAt(e+3),a=t?(((n<<8)+i<<8)+r<<8)+s:(((s<<8)+r<<8)+i<<8)+n;return 0>a&&(a+=4294967296),a},this.getSLongAt=function(e,t){var n=this.getLongAt(e,t);return n>2147483647?n-4294967296:n},this.getStringAt=function(e,t){for(var n=[],i=this.getBytesAt(e,t),r=0;t>r;r++)n[r]=String.fromCharCode(i[r]);return n.join("")},this.getCharAt=function(e){return String.fromCharCode(this.getByteAt(e))},this.toBase64=function(){return window.btoa(i)},this.fromBase64=function(e){i=window.atob(e)}},BinaryAjax=function(){function e(){var e=null;return window.ActiveXObject?e=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(e=new XMLHttpRequest),e}function t(t,n,i){var r=e();r?(n&&("undefined"!=typeof r.onload?r.onload=function(){"200"==r.status?n(this):i&&i(),r=null}:r.onreadystatechange=function(){4==r.readyState&&("200"==r.status?n(this):i&&i(),r=null)}),r.open("HEAD",t,!0),r.send(null)):i&&i()}function n(t,n,i,r,s,a){var o=e();if(o){var l=0;r&&!s&&(l=r[0]);var u=0;r&&(u=r[1]-r[0]+1),n&&("undefined"!=typeof o.onload?o.onload=function(){"200"==o.status||"206"==o.status||"0"==o.status?(o.binaryResponse=new BinaryFile(o.responseText,l,u),o.fileSize=a||o.getResponseHeader("Content-Length"),n(o)):i&&i(),o=null
}:o.onreadystatechange=function(){if(4==o.readyState){if("200"==o.status||"206"==o.status||"0"==o.status){var e={status:o.status,binaryResponse:new BinaryFile("unknown"==typeof o.responseBody?o.responseBody:o.responseText,l,u),fileSize:a||o.getResponseHeader("Content-Length")};n(e)}else i&&i();o=null}}),o.open("GET",t,!0),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),r&&s&&o.setRequestHeader("Range","bytes="+r[0]+"-"+r[1]),o.setRequestHeader("If-Modified-Since","Sat, 1 Jan 1970 00:00:00 GMT"),o.send(null)}else i&&i()}return function(e,i,r,s){s?t(e,function(t){var a,o,l=parseInt(t.getResponseHeader("Content-Length"),10),u=t.getResponseHeader("Accept-Ranges");a=s[0],s[0]<0&&(a+=l),o=a+s[1]-1,n(e,i,r,[a,o],"bytes"==u,l)}):n(e,i,r)}}();document.write("<script type='text/vbscript'>\r\nFunction IEBinary_getByteAt(strBinary, iOffset)\r\n	IEBinary_getByteAt = AscB(MidB(strBinary, iOffset + 1, 1))\r\nEnd Function\r\nFunction IEBinary_getBytesAt(strBinary, iOffset, iLength)\r\n  Dim aBytes()\r\n  ReDim aBytes(iLength - 1)\r\n  For i = 0 To iLength - 1\r\n   aBytes(i) = IEBinary_getByteAt(strBinary, iOffset + i)\r\n  Next\r\n  IEBinary_getBytesAt = aBytes\r\nEnd Function\r\nFunction IEBinary_getLength(strBinary)\r\n	IEBinary_getLength = LenB(strBinary)\r\nEnd Function\r\n</script>\r\n"),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){return t.isDefaultPrevented()?!1:void((n.autoUpload||n.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var i,r=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=r,i=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)}),t.xhr=function(){return i})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,i=this,r=t.files[0],s=t.multipart||!e.support.xhrFileUpload,a="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),s&&!t.blob&&this._isInstanceOf("File",r)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"'),s?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:a,value:t.blob}):e.each(t.files,function(i,r){n.push({name:"array"===e.type(t.paramName)&&t.paramName[i]||a,value:r})})):(i._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?n.append(a,t.blob,r.name):e.each(t.files,function(r,s){(i._isInstanceOf("File",s)||i._isInstanceOf("Blob",s))&&n.append("array"===e.type(t.paramName)&&t.paramName[r]||a,s,s.uploadName||s.name)})),t.data=n):(t.contentType=r.type||"application/octet-stream",t.data=t.blob||r),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",r=(t.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var r=e.Deferred(),s=r.promise();return n=n||this.options.context||s,t===!0?r.resolveWith(n,i):t===!1&&r.rejectWith(n,i),s.abort=r.promise,this._enhancePromise(s)},_addConvenienceMethods:function(t,n){var i=this,r=function(t){return e.Deferred().resolveWith(i,t).promise()};n.process=function(t,s){return(t||s)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).pipe(function(){return n.errorThrown?e.Deferred().rejectWith(i,[n]).promise():r(arguments)}).pipe(t,s)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var i,r,s=this,a=t.files[0],o=a.size,l=t.uploadedBytes,u=t.maxChunkSize||o,d=this._blobSlice,h=e.Deferred(),c=h.promise();return this._isXHRUpload(t)&&d&&(l||o>u)&&!t.data?n?!0:l>=o?(a.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",a.error])):(r=function(){var n=e.extend({},t),c=n._progress.loaded;n.blob=d.call(a,l,l+u,a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+o,s._initXHRData(n),s._initProgressListener(n),i=(s._trigger("chunksend",null,n)!==!1&&e.ajax(n)||s._getXHRPromise(!1,n.context)).done(function(i,a,u){l=s._getUploadedBytes(u)||l+n.chunkSize,c+n.chunkSize-n._progress.loaded&&s._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=a,n.jqXHR=u,s._trigger("chunkdone",null,n),s._trigger("chunkalways",null,n),o>l?r():h.resolveWith(n.context,[i,a,u])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,s._trigger("chunkfail",null,n),s._trigger("chunkalways",null,n),h.rejectWith(n.context,[e,t,i])})},this._enhancePromise(c),c.abort=function(){return i.abort()},r(),c):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,i,r){var s=r._progress.total,a=r._response;r._progress.loaded<s&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:s,total:s}),r),a.result=r.result=t,a.textStatus=r.textStatus=n,a.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(e,t,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=e,r.textStatus=i.textStatus=t,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var i,r,s,a,o=this,l=o._getAJAXSettings(n),u=function(){return o._sending+=1,l._bitrateTimer=new o._BitrateTimer,i=i||((r||o._trigger("send",e.Event("send",{delegatedEvent:t}),l)===!1)&&o._getXHRPromise(!1,l.context,r)||o._chunkedUpload(l)||e.ajax(l)).done(function(e,t,n){o._onDone(e,t,n,l)}).fail(function(e,t,n){o._onFail(e,t,n,l)}).always(function(e,t,n){if(o._onAlways(e,t,n,l),o._sending-=1,o._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>o._sending)for(var i=o._slots.shift();i;){if("pending"===o._getDeferredState(i)){i.resolve();break}i=o._slots.shift()}0===o._active&&o._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(s=e.Deferred(),this._slots.push(s),a=s.pipe(u)):(this._sequence=this._sequence.pipe(u,u),a=this._sequence),a.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(s&&s.rejectWith(l.context,r),u())},this._enhancePromise(a)):u()},_onAdd:function(t,n){var i,r,s,a,o=this,l=!0,u=e.extend({},this.options,n),d=n.files,h=d.length,c=u.limitMultiFileUploads,g=u.limitMultiFileUploadSize,p=u.limitMultiFileUploadSizeOverhead,f=0,m=this._getParamName(u),v=0;if(!g||h&&void 0!==d[0].size||(g=void 0),(u.singleFileUploads||c||g)&&this._isXHRUpload(u))if(u.singleFileUploads||g||!c)if(!u.singleFileUploads&&g)for(s=[],i=[],a=0;h>a;a+=1)f+=d[a].size+p,(a+1===h||f+d[a+1].size+p>g||c&&a+1-v>=c)&&(s.push(d.slice(v,a+1)),r=m.slice(v,a+1),r.length||(r=m),i.push(r),v=a+1,f=0);else i=m;else for(s=[],i=[],a=0;h>a;a+=c)s.push(d.slice(a,a+c)),r=m.slice(a,a+c),r.length||(r=m),i.push(r);else s=[d],i=[m];return n.originalFiles=d,e.each(s||d,function(r,a){var u=e.extend({},n);return u.files=s?a:[a],u.paramName=i[r],o._initResponseObject(u),o._initProgressObject(u),o._addConvenienceMethods(t,u),l=o._trigger("add",e.Event("add",{delegatedEvent:t}),u)}),l},_replaceFileInput:function(t){var n=t.fileInput,i=n.clone(!0);t.fileInputClone=i,e("<form></form>").append(i)[0].reset(),n.after(i).detach(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?i[0]:t}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,n){var i,r=this,s=e.Deferred(),a=function(e){e&&!e.entry&&(e.entry=t),s.resolve([e])},o=function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){s.resolve(e)}).fail(a)},l=function(){i.readEntries(function(e){e.length?(u=u.concat(e),l()):o(u)},a)},u=[];return n=n||"",t.isFile?t._file?(t._file.relativePath=n,s.resolve(t._file)):t.file(function(e){e.relativePath=n,s.resolve(e)},a):t.isDirectory?(i=t.createReader(),l()):s.resolve([]),s.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,function(e){return i._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,i,r=t.prop("webkitEntries")||t.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(i=t.prop("value"),!i)return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(r){i.files=r,n.options.replaceFileInput&&n._replaceFileInput(i),n._trigger("change",e.Event("change",{delegatedEvent:t}),i)!==!1&&n._onAdd(t,i)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),i)!==!1&&this._onAdd(t,i))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,i=t.dataTransfer,r={};i&&i.files&&i.files.length&&(t.preventDefault(),this._getDroppedFiles(i).always(function(i){r.files=i,n._trigger("drop",e.Event("drop",{delegatedEvent:t}),r)!==!1&&n._onAdd(t,r)}))},_onDragOver:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=t.dataTransfer;n&&-1!==e.inArray("Files",n.types)&&this._trigger("dragover",e.Event("dragover",{delegatedEvent:t}))!==!1&&(t.preventDefault(),n.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var i=-1!==e.inArray(t,this._specialOptions);i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,i=e(this.element[0].cloneNode(!1));e.each(i.data(),function(e,r){var s="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();i.attr(s)&&(t._isRegExpOption(e,r)&&(r=t._getRegExp(r)),n[e]=r)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,r=this,s=e.Deferred(),a=s.promise();return a.abort=function(){return i=!0,n?n.abort():(s.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always(function(e){if(!i){if(!e.length)return void s.reject();t.files=e,n=r._onSend(null,t),n.then(function(e,t,n){s.resolve(e,t,n)},function(e,t,n){s.reject(e,t,n)})}}),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(function(e){function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=u),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var i=e(this),r=i.data(A);r||(r=new n(this,t),i.data(A,r))})}function n(t,n){function E(t){if(!(ot()||e(t.target).closest(n.excludedElements,Xt).length>0)){var i,r=t.originalEvent?t.originalEvent:t,s=D?r.touches[0]:r;return Ut=b,D?zt=r.touches.length:t.preventDefault(),Lt=0,Bt=null,Nt=null,Ot=0,kt=0,Mt=0,Ht=1,jt=0,Gt=ct(),qt=ft(),st(),!D||zt===n.fingers||n.fingers===F||q()?(ut(0,s),Wt=Dt(),2==zt&&(ut(1,r.touches[1]),kt=Mt=Ft(Gt[0].start,Gt[1].start)),(n.swipeStatus||n.pinchStatus)&&(i=L(r,Ut))):i=!1,i===!1?(Ut=w,L(r,Ut),i):(lt(!0),null)}}function T(e){var t=e.originalEvent?e.originalEvent:e;if(Ut!==_&&Ut!==w&&!at()){var i,r=D?t.touches[0]:t,s=dt(r);if(Vt=Dt(),D&&(zt=t.touches.length),Ut=S,2==zt&&(0==kt?(ut(1,t.touches[1]),kt=Mt=Ft(Gt[0].start,Gt[1].start)):(dt(t.touches[1]),Mt=Ft(Gt[0].end,Gt[1].end),Nt=bt(Gt[0].end,Gt[1].end)),Ht=yt(kt,Mt),jt=Math.abs(kt-Mt)),zt===n.fingers||n.fingers===F||!D||q()){if(Bt=wt(s.start,s.end),j(e,Bt),Lt=St(s.start,s.end),Ot=vt(),gt(Bt,Lt),(n.swipeStatus||n.pinchStatus)&&(i=L(t,Ut)),!n.triggerOnTouchEnd||n.triggerOnTouchLeave){var a=!0;if(n.triggerOnTouchLeave){var o=At(this);a=Et(s.end,o)}!n.triggerOnTouchEnd&&a?Ut=I(S):n.triggerOnTouchLeave&&!a&&(Ut=I(_)),(Ut==w||Ut==_)&&L(t,Ut)}}else Ut=w,L(t,Ut);i===!1&&(Ut=w,L(t,Ut))}}function x(e){var t=e.originalEvent;return D&&t.touches.length>0?(rt(),!0):(at()&&(zt=$t),e.preventDefault(),Vt=Dt(),Ot=vt(),k()?(Ut=w,L(t,Ut)):n.triggerOnTouchEnd||0==n.triggerOnTouchEnd&&Ut===S?(Ut=_,L(t,Ut)):!n.triggerOnTouchEnd&&Z()?(Ut=_,B(t,Ut,g)):Ut===S&&(Ut=w,L(t,Ut)),lt(!1),null)}function P(){zt=0,Vt=0,Wt=0,kt=0,Mt=0,Ht=1,st(),lt(!1)}function C(e){var t=e.originalEvent;n.triggerOnTouchLeave&&(Ut=I(_),L(t,Ut))}function R(){Xt.unbind(xt,E),Xt.unbind(It,P),Xt.unbind(Pt,T),Xt.unbind(Ct,x),Rt&&Xt.unbind(Rt,C),lt(!1)}function I(e){var t=e,i=H(),r=O(),s=k();return!i||s?t=w:!r||e!=S||n.triggerOnTouchEnd&&!n.triggerOnTouchLeave?!r&&e==_&&n.triggerOnTouchLeave&&(t=w):t=_,t}function L(e,t){var n=void 0;return G()||z()?n=B(e,t,h):(X()||q())&&n!==!1&&(n=B(e,t,c)),nt()&&n!==!1?n=B(e,t,p):it()&&n!==!1?n=B(e,t,f):tt()&&n!==!1&&(n=B(e,t,g)),t===w&&P(e),t===_&&(D?0==e.touches.length&&P(e):P(e)),n}function B(t,u,d){var m=void 0;if(d==h){if(Xt.trigger("swipeStatus",[u,Bt||null,Lt||0,Ot||0,zt]),n.swipeStatus&&(m=n.swipeStatus.call(Xt,t,u,Bt||null,Lt||0,Ot||0,zt),m===!1))return!1;if(u==_&&U()){if(Xt.trigger("swipe",[Bt,Lt,Ot,zt]),n.swipe&&(m=n.swipe.call(Xt,t,Bt,Lt,Ot,zt),m===!1))return!1;switch(Bt){case i:Xt.trigger("swipeLeft",[Bt,Lt,Ot,zt]),n.swipeLeft&&(m=n.swipeLeft.call(Xt,t,Bt,Lt,Ot,zt));break;case r:Xt.trigger("swipeRight",[Bt,Lt,Ot,zt]),n.swipeRight&&(m=n.swipeRight.call(Xt,t,Bt,Lt,Ot,zt));break;case s:Xt.trigger("swipeUp",[Bt,Lt,Ot,zt]),n.swipeUp&&(m=n.swipeUp.call(Xt,t,Bt,Lt,Ot,zt));break;case a:Xt.trigger("swipeDown",[Bt,Lt,Ot,zt]),n.swipeDown&&(m=n.swipeDown.call(Xt,t,Bt,Lt,Ot,zt))}}}if(d==c){if(Xt.trigger("pinchStatus",[u,Nt||null,jt||0,Ot||0,zt,Ht]),n.pinchStatus&&(m=n.pinchStatus.call(Xt,t,u,Nt||null,jt||0,Ot||0,zt,Ht),m===!1))return!1;if(u==_&&N())switch(Nt){case o:Xt.trigger("pinchIn",[Nt||null,jt||0,Ot||0,zt,Ht]),n.pinchIn&&(m=n.pinchIn.call(Xt,t,Nt||null,jt||0,Ot||0,zt,Ht));break;case l:Xt.trigger("pinchOut",[Nt||null,jt||0,Ot||0,zt,Ht]),n.pinchOut&&(m=n.pinchOut.call(Xt,t,Nt||null,jt||0,Ot||0,zt,Ht))}}return d==g?(u===w||u===_)&&(clearTimeout(Yt),$()&&!J()?(Qt=Dt(),Yt=setTimeout(e.proxy(function(){Qt=null,Xt.trigger("tap",[t.target]),n.tap&&(m=n.tap.call(Xt,t,t.target))},this),n.doubleTapThreshold)):(Qt=null,Xt.trigger("tap",[t.target]),n.tap&&(m=n.tap.call(Xt,t,t.target)))):d==p?(u===w||u===_)&&(clearTimeout(Yt),Qt=null,Xt.trigger("doubletap",[t.target]),n.doubleTap&&(m=n.doubleTap.call(Xt,t,t.target))):d==f&&(u===w||u===_)&&(clearTimeout(Yt),Qt=null,Xt.trigger("longtap",[t.target]),n.longTap&&(m=n.longTap.call(Xt,t,t.target))),m}function O(){var e=!0;return null!==n.threshold&&(e=Lt>=n.threshold),e}function k(){var e=!1;return null!==n.cancelThreshold&&null!==Bt&&(e=pt(Bt)-Lt>=n.cancelThreshold),e}function M(){return null!==n.pinchThreshold?jt>=n.pinchThreshold:!0}function H(){var e;return e=n.maxTimeThreshold&&Ot>=n.maxTimeThreshold?!1:!0}function j(e,t){if(n.allowPageScroll===u||q())e.preventDefault();else{var o=n.allowPageScroll===d;switch(t){case i:(n.swipeLeft&&o||!o&&n.allowPageScroll!=m)&&e.preventDefault();break;case r:(n.swipeRight&&o||!o&&n.allowPageScroll!=m)&&e.preventDefault();break;case s:(n.swipeUp&&o||!o&&n.allowPageScroll!=v)&&e.preventDefault();break;case a:(n.swipeDown&&o||!o&&n.allowPageScroll!=v)&&e.preventDefault()}}}function N(){var e=W(),t=V(),n=M();return e&&t&&n}function q(){return!!(n.pinchStatus||n.pinchIn||n.pinchOut)}function X(){return!(!N()||!q())}function U(){var e=H(),t=O(),n=W(),i=V(),r=k(),s=!r&&i&&n&&t&&e;return s}function z(){return!!(n.swipe||n.swipeStatus||n.swipeLeft||n.swipeRight||n.swipeUp||n.swipeDown)}function G(){return!(!U()||!z())}function W(){return zt===n.fingers||n.fingers===F||!D}function V(){return 0!==Gt[0].end.x}function Z(){return!!n.tap}function $(){return!!n.doubleTap}function Q(){return!!n.longTap}function Y(){if(null==Qt)return!1;var e=Dt();return $()&&e-Qt<=n.doubleTapThreshold}function J(){return Y()}function K(){return!(1!==zt&&D||!isNaN(Lt)&&0!==Lt)}function et(){return Ot>n.longTapThreshold&&y>Lt}function tt(){return!(!K()||!Z())}function nt(){return!(!Y()||!$())}function it(){return!(!et()||!Q())}function rt(){Zt=Dt(),$t=event.touches.length+1}function st(){Zt=0,$t=0}function at(){var e=!1;if(Zt){var t=Dt()-Zt;t<=n.fingerReleaseThreshold&&(e=!0)}return e}function ot(){return!(Xt.data(A+"_intouch")!==!0)}function lt(e){e===!0?(Xt.bind(Pt,T),Xt.bind(Ct,x),Rt&&Xt.bind(Rt,C)):(Xt.unbind(Pt,T,!1),Xt.unbind(Ct,x,!1),Rt&&Xt.unbind(Rt,C,!1)),Xt.data(A+"_intouch",e===!0)}function ut(e,t){var n=void 0!==t.identifier?t.identifier:0;return Gt[e].identifier=n,Gt[e].start.x=Gt[e].end.x=t.pageX||t.clientX,Gt[e].start.y=Gt[e].end.y=t.pageY||t.clientY,Gt[e]}function dt(e){var t=void 0!==e.identifier?e.identifier:0,n=ht(t);return n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function ht(e){for(var t=0;t<Gt.length;t++)if(Gt[t].identifier==e)return Gt[t]}function ct(){for(var e=[],t=0;5>=t;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}function gt(e,t){t=Math.max(t,pt(e)),qt[e].distance=t}function pt(e){return qt[e]?qt[e].distance:void 0}function ft(){var e={};return e[i]=mt(i),e[r]=mt(r),e[s]=mt(s),e[a]=mt(a),e}function mt(e){return{direction:e,distance:0}}function vt(){return Vt-Wt}function Ft(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function yt(e,t){var n=t/e*1;return n.toFixed(2)}function bt(){return 1>Ht?l:o}function St(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function _t(e,t){var n=e.x-t.x,i=t.y-e.y,r=Math.atan2(i,n),s=Math.round(180*r/Math.PI);return 0>s&&(s=360-Math.abs(s)),s}function wt(e,t){var n=_t(e,t);return 45>=n&&n>=0?i:360>=n&&n>=315?i:n>=135&&225>=n?r:n>45&&135>n?a:s}function Dt(){var e=new Date;return e.getTime()}function At(t){t=e(t);var n=t.offset(),i={left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()};return i}function Et(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}var Tt=D||!n.fallbackToMouseEvents,xt=Tt?"touchstart":"mousedown",Pt=Tt?"touchmove":"mousemove",Ct=Tt?"touchend":"mouseup",Rt=Tt?null:"mouseleave",It="touchcancel",Lt=0,Bt=null,Ot=0,kt=0,Mt=0,Ht=1,jt=0,Nt=0,qt=null,Xt=e(t),Ut="start",zt=0,Gt=null,Wt=0,Vt=0,Zt=0,$t=0,Qt=0,Yt=null;try{Xt.bind(xt,E),Xt.bind(It,P)}catch(Jt){e.error("events not supported "+xt+","+It+" on jQuery.swipe")}this.enable=function(){return Xt.bind(xt,E),Xt.bind(It,P),Xt},this.disable=function(){return R(),Xt},this.destroy=function(){return R(),Xt.data(A,null),Xt},this.option=function(t,i){if(void 0!==n[t]){if(void 0===i)return n[t];n[t]=i}else e.error("Option "+t+" does not exist on jQuery.swipe.options");return null}}var i="left",r="right",s="up",a="down",o="in",l="out",u="none",d="auto",h="swipe",c="pinch",g="tap",p="doubletap",f="longtap",m="horizontal",v="vertical",F="all",y=10,b="start",S="move",_="end",w="cancel",D="ontouchstart"in window,A="TouchSwipe",E={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};e.fn.swipe=function(n){var i=e(this),r=i.data(A);if(r&&"string"==typeof n){if(r[n])return r[n].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(!(r||"object"!=typeof n&&n))return t.apply(this,arguments);return i},e.fn.swipe.defaults=E,e.fn.swipe.phases={PHASE_START:b,PHASE_MOVE:S,PHASE_END:_,PHASE_CANCEL:w},e.fn.swipe.directions={LEFT:i,RIGHT:r,UP:s,DOWN:a,IN:o,OUT:l},e.fn.swipe.pageScroll={NONE:u,HORIZONTAL:m,VERTICAL:v,AUTO:d},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:F}});